{% extends "base.html.twig" %}
{% block title %} {{ parent() }} Administration {% endblock %}

{% block contenu %} 
    
    <h1>Administration - Gestion des produits </h1>
    
    <div class="panel panel-default">
  <!-- Table -->
  <div class="table-responsive">
  <table class="table table-hover table-striped">
      <tr>
          <th>Désignation</th>
          <th>Description</th>
          <th>Prix</th>
          <th>Type</th>
          <th></th>
          <th></th>
      </tr>
      {% for prod in liste %}
            <tr>
                <td>{{prod.designation}}</td>
                <td>{{prod.description}}</td>
                <td>{{prod.prix}} €</td>
                <td>{{prod.libelle}}</td>
                <td><div class="btn-group btn-group-lg">
                    <form action="index.php?page=modifProduit" method="post">
                        <input type="hidden" name="id" value="{{prod.id}}" />
                        <button><span class="glyphicon glyphicon-pencil" aria-hidden="true"></span></button>
                    </form>
                </div></td>
                <td><div class="btn-group btn-group-lg">
                        <form action="index.php?page=gestionProduits" method="post">
                            <input type="hidden" name="inputID" value="{{prod.id}}" />
                            <button name="btSupProd"><span class='glyphicon glyphicon-trash' aria-hidden='true'></span></button>
                        </form>
                    </div></td>
            </tr> 
     {% endfor %}
  </table>
  </div>
</div>
   <div class="panel panel-primary">
        <div class="panel-heading">Ajouter des produits </div>
         <div class="panel-body">
            <form  class="form-signin" action="index.php?page=gestionProduits" method="post" enctype="application/x-www-form-urlencoded">
            <input type="text" id="inputDesignation" name="inputDesignation" class="form-control" placeholder="Saisir une désignation" required autofocus/>
            <textarea name="description" class="form-control" placeholder="Saisir une description" rows="5" required></textarea>
            <input type="number" step="0.01" id="inputPrix" placeholder="Saisir un prix"  class="form-control" name="inputPrix" required />
            <select name="inputType" class="form-control" required>
                <option value="">Choisir un type</option>
                {% for type in types %}
                <option value="{{type.ntype}}">{{type.libelle}}</option>
                {% endfor %}
            </select>
            <button class="btn btn-lg btn-primary btn-block" type="submit" name="btAjoutProd">Ajouter</button>
            </form>
         </div>    
  </div>
 </div>
 </div>      
    
{% endblock %} 